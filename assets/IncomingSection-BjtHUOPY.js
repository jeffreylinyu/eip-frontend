import{d as N,E as M,r as x,k as p,a as L,e as b,f,l as t,i as l,s as d,p as o,q as R,x as m,m as S,F as A,y as q,I as u,J as _,Q as B,C as c,v,_ as Q}from"./index-CB9Z8Gmd.js";const j={class:"incoming-section"},D={class:"row"},F={class:"col-md-3 mb-2"},O=["onUpdate:modelValue"],P={class:"col-md-2 mb-2"},H=["onUpdate:modelValue"],J={class:"col-md-2 mb-2"},$=["onUpdate:modelValue"],z={class:"col-md-2 mb-2"},G=["onUpdate:modelValue"],K={class:"col-md-2 mb-2"},W=["onUpdate:modelValue"],X={class:"col-md-1 mb-2 d-flex align-items-end"},Y=["onClick"],Z={key:0,class:"text-center text-muted py-4"},tt={class:"row mt-4"},st={class:"col-md-3"},et={class:"mb-1"},lt={class:"col-md-3"},ot={class:"mb-1"},at={class:"col-md-3"},nt={class:"mb-1"},it={class:"col-md-3"},dt={class:"mb-1"},mt={class:"d-flex justify-content-between mt-4"},ut={class:"d-flex gap-2"},ct=["disabled"],rt=["disabled"],pt=N({__name:"IncomingSection",setup(bt){const y=M(),i=x([]),r=x(!1),h=p(()=>i.value.length),C=p(()=>i.value.filter(n=>n.itemType==="MATERIAL").length),k=p(()=>i.value.filter(n=>n.itemType==="EQUIPMENT").length),I=p(()=>i.value.filter(n=>n.itemType==="MISCELLANEOUS").length),U=()=>{i.value.push({itemName:"",itemType:"MATERIAL",quantity:0,unit:"",remarks:""})},V=n=>{i.value.splice(n,1)},w=async()=>{r.value=!0,r.value=!1},E=()=>{y.push("/daily-report/equipment")},T=()=>{y.push("/daily-report/inspection")};return L(()=>{}),(n,s)=>(f(),b("div",j,[t("div",{class:"d-flex justify-content-between align-items-center mb-4"},[s[1]||(s[1]=t("div",null,[t("h4",{class:"mb-1"},"進場材料/機具/雜項紀錄"),t("p",{class:"text-muted mb-0"},"記錄當日進場的材料、機具和雜項")],-1)),t("div",{class:"d-flex gap-2"},[t("button",{class:"btn btn-outline-primary",onClick:U},s[0]||(s[0]=[t("i",{class:"fa fa-plus me-1"},null,-1),d("新增紀錄 ")]))])]),l(c,null,{default:o(()=>[l(R,null,{default:o(()=>s[2]||(s[2]=[t("h6",{class:"mb-0"},[t("i",{class:"fa fa-truck me-2"}),d("進場材料/機具/雜項紀錄 ")],-1)])),_:1,__:[2]}),l(m,null,{default:o(()=>[(f(!0),b(A,null,q(i.value,(e,g)=>(f(),b("div",{key:e.id||g,class:"mb-3"},[t("div",D,[t("div",F,[s[3]||(s[3]=t("label",{class:"form-label"},"項目名稱",-1)),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":a=>e.itemName=a,placeholder:"請輸入項目名稱"},null,8,O),[[_,e.itemName]])]),t("div",P,[s[5]||(s[5]=t("label",{class:"form-label"},"類型",-1)),u(t("select",{class:"form-select","onUpdate:modelValue":a=>e.itemType=a},s[4]||(s[4]=[t("option",{value:"MATERIAL"},"材料",-1),t("option",{value:"EQUIPMENT"},"機具",-1),t("option",{value:"MISCELLANEOUS"},"雜項",-1)]),8,H),[[B,e.itemType]])]),t("div",J,[s[6]||(s[6]=t("label",{class:"form-label"},"數量",-1)),u(t("input",{type:"number",class:"form-control","onUpdate:modelValue":a=>e.quantity=a,min:"0",step:"0.01",placeholder:"0"},null,8,$),[[_,e.quantity]])]),t("div",z,[s[7]||(s[7]=t("label",{class:"form-label"},"單位",-1)),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":a=>e.unit=a,placeholder:"單位"},null,8,G),[[_,e.unit]])]),t("div",K,[s[8]||(s[8]=t("label",{class:"form-label"},"備註",-1)),u(t("input",{type:"text",class:"form-control","onUpdate:modelValue":a=>e.remarks=a,placeholder:"備註"},null,8,W),[[_,e.remarks]])]),t("div",X,[t("button",{class:"btn btn-outline-danger",onClick:a=>V(g),title:"刪除"},s[9]||(s[9]=[t("i",{class:"fa fa-trash"},null,-1)]),8,Y)])])]))),128)),i.value.length===0?(f(),b("div",Z,s[10]||(s[10]=[t("i",{class:"fa fa-truck fa-2x mb-2"},null,-1),t("p",{class:"mb-0"},"尚未新增任何進場紀錄",-1)]))):S("",!0)]),_:1})]),_:1}),t("div",tt,[t("div",st,[l(c,{class:"bg-primary text-white"},{default:o(()=>[l(m,{class:"text-center"},{default:o(()=>[t("h4",et,v(h.value),1),s[11]||(s[11]=t("p",{class:"mb-0"},"總紀錄數",-1))]),_:1,__:[11]})]),_:1})]),t("div",lt,[l(c,{class:"bg-success text-white"},{default:o(()=>[l(m,{class:"text-center"},{default:o(()=>[t("h4",ot,v(C.value),1),s[12]||(s[12]=t("p",{class:"mb-0"},"材料項目",-1))]),_:1,__:[12]})]),_:1})]),t("div",at,[l(c,{class:"bg-warning text-white"},{default:o(()=>[l(m,{class:"text-center"},{default:o(()=>[t("h4",nt,v(k.value),1),s[13]||(s[13]=t("p",{class:"mb-0"},"機具項目",-1))]),_:1,__:[13]})]),_:1})]),t("div",it,[l(c,{class:"bg-info text-white"},{default:o(()=>[l(m,{class:"text-center"},{default:o(()=>[t("h4",dt,v(I.value),1),s[14]||(s[14]=t("p",{class:"mb-0"},"雜項項目",-1))]),_:1,__:[14]})]),_:1})])]),t("div",mt,[t("button",{class:"btn btn-outline-secondary",onClick:E},s[15]||(s[15]=[t("i",{class:"fa fa-arrow-left me-1"},null,-1),d("返回機具頁面 ")])),t("div",ut,[t("button",{class:"btn btn-primary",onClick:w,disabled:r.value},s[16]||(s[16]=[t("i",{class:"fa fa-save me-1"},null,-1),d("儲存 ")]),8,ct),t("button",{class:"btn btn-success",onClick:T,disabled:r.value},s[17]||(s[17]=[d(" 下一步 "),t("i",{class:"fa fa-arrow-right ms-1"},null,-1)]),8,rt)])])]))}}),_t=Q(pt,[["__scopeId","data-v-2b9e3469"]]);export{_t as default};
