import{U as X,d as he,j as ye,r as y,k as oe,w as be,a as ge,c as we,e as d,f as r,l as e,i as p,p as f,q as W,x as T,v as c,C as V,F as j,y as q,z as P,S as ie,m as C,s as L,I as b,J as k,K as G,V as ke,_ as De}from"./index-CB9Z8Gmd.js";import{f as de,d as re,a as Se,h as Q}from"./forms-OBaJqV0P.js";const Ie=async S=>{try{const i=await X.get("/management/extension/list",{params:{constructionId:S.constructionId}});let v=[];return i.data&&Array.isArray(i.data)?v=i.data:i.data&&i.data.data&&Array.isArray(i.data.data)?v=i.data.data:Array.isArray(i)&&(v=i),{success:!0,data:v,total:v.length,page:S.page||1,pageSize:S.pageSize||100}}catch(i){throw console.error("❌ 獲取展延列表失敗:",i),i}},Ae=async S=>{try{return await X.post("/management/extension/create",S)}catch(i){throw console.error("❌ 創建展延記錄失敗:",i),i}},Ce=async S=>{try{return await X.patch("/management/extension/update",S)}catch(i){throw console.error("❌ 更新展延記錄失敗:",i),i}},Ne={class:"container-fluid"},$e={class:"row"},Ue={class:"col-12"},Ee={class:"row"},Te={class:"col-lg-4 mb-4"},Ve={class:"flex-grow-1 d-flex flex-column justify-content-around"},je={class:"d-flex align-items-center"},Pe={class:"badge border border-primary text-primary px-2 pt-5px pb-5px rounded fs-12px d-inline-flex align-items-center me-2"},Fe={class:"badge border border-secondary text-secondary px-2 pt-5px pb-5px rounded fs-12px d-inline-flex align-items-center"},Me={class:"mb-2"},ze={class:"text-muted small"},qe={class:"row"},Oe={class:"col-6"},Re={class:"border rounded p-2"},He={class:"fw-bold"},Be={class:"col-6"},We={class:"border rounded p-2"},Le={class:"fw-bold small"},Je={class:"col-lg-8 mb-4"},Ye={class:"row"},Ke={class:"d-flex align-items-center mb-3"},Ge={class:"param-icon me-3"},Qe={class:"flex-grow-1"},Xe={class:"mb-1"},Ze={class:"text-muted small mb-0"},et={class:"mb-3"},tt={class:"d-flex justify-content-between align-items-center mb-2"},st={class:"small fw-bold"},nt={class:"progress",style:{height:"6px"}},lt={class:"small text-muted mt-1"},at={class:"filled-fields-preview"},ot={key:0,class:"text-center"},it={class:"text-white mb-2"},dt={class:"fw-bold"},rt={class:"text-white mb-2"},ct={class:"fw-bold"},ut={class:"text-white"},mt={class:"fw-bold"},pt={key:1},ft={key:0,class:"small text-muted"},vt={class:"row"},xt={class:"col-lg-8 mb-4"},_t={class:"row"},ht={class:"col-lg-6"},yt={class:"mb-3"},bt={class:"form-text small"},gt={class:"col-lg-6"},wt={class:"mb-3"},kt={class:"form-check mb-2"},Dt={class:"form-check"},St={class:"d-flex justify-content-between align-items-center mt-3 pt-3 border-top"},It=["disabled"],At={key:0,class:"mt-3"},Ct={class:"d-flex justify-content-between align-items-center mb-2"},Nt={class:"small"},$t={class:"progress"},Ut={class:"col-lg-4 mb-4"},Et={key:0,class:"text-center py-3"},Tt={key:1},Vt={class:"d-flex justify-content-between align-items-start mb-2"},jt={class:"mb-1 small"},Pt=["onClick"],Ft={class:"text-muted small mb-1"},Mt={class:"d-flex justify-content-between"},zt={class:"text-muted"},qt={class:"text-muted"},Ot={key:0,class:"params-form"},Rt={class:"text-muted mb-4"},Ht={key:0},Bt={class:"table-responsive"},Wt={class:"table table-bordered table-hover"},Lt={key:0},Jt={class:"form-check d-flex justify-content-center"},Yt=["id","onUpdate:modelValue","onChange"],Kt=["for"],Gt=["onUpdate:modelValue","onInput"],Qt=["onUpdate:modelValue","onInput","disabled"],Xt=["onUpdate:modelValue","onInput"],Zt=["onUpdate:modelValue","onInput"],es={key:1},ts={key:2},ss={key:1},ns={class:"row"},ls={class:"form-label"},as={key:0,class:"text-danger"},os=["onUpdate:modelValue","placeholder"],is=["onUpdate:modelValue"],ds=["onUpdate:modelValue"],rs=["onUpdate:modelValue","placeholder"],cs=["onUpdate:modelValue","placeholder"],us=he({__name:"FormA4Download",setup(S){const i=ye();y(!1);const v=y(!1),I=y(0),F=y(""),Z=y(!1),ee=y(!0),O=y(!1),M=y(""),J=y(!1),h=y([]),Y=y([]),R=y(!1),x=y({originalSchedule:"",revisedSchedule:"",impactAnalysis:"",mitigationMeasures:"",additionalCost:"",approvalStatus:"",comment:"",supportingDocuments:"",approvalDate:""}),g={code:"A-4",name:"工期展延申請總表",description:"工期展延申請總表是工程專案申請延長工期的正式文件，包含展延原因、影響分析、緩解措施等內容。",category:"A類表單",version:"v2.0",lastUpdate:"2024-01-10",requiredFields:["工程基本資訊","展延原因說明","影響分析","緩解措施","展延天數","相關附件","審核意見"]},H=[{id:"extension-history",title:"歷次展延核定情形",icon:"fa fa-history",description:"維護歷次展延申請的核定情形與相關資料",isTable:!0,fields:void 0}],N=y([{id:1,fileName:"A-4_工期展延申請總表_台北市政府建管處版本_2024-01-10.docx",template:"台北市政府建管處版本",downloadTime:"2024-01-10 14:30:25",fileSize:"1.1 MB"},{id:2,fileName:"A-4_工期展延申請總表_新北市政府工務局版本_2024-01-08.docx",template:"新北市政府工務局版本",downloadTime:"2024-01-08 09:15:42",fileSize:"1.0 MB"}]),te=oe(()=>!v.value),K=oe(()=>F.value.trim()?F.value.trim():`A-4_工期展延申請總表_${new Date().toISOString().split("T")[0]}`),ce=async()=>{var t;if(!te.value||v.value)return;v.value=!0,I.value=0;let n=null;try{const a={constructionId:((t=i.currentProject)==null?void 0:t.id)||"",title:F.value.trim()||K.value,...x.value};n=setInterval(()=>{I.value<90&&(I.value+=Math.random()*10)},200);const o=await de.downloadReport(a);I.value=100,n&&(clearInterval(n),n=null);const u=`${K.value}.docx`;re(o,u);const s={id:N.value.length+1,fileName:u,template:"A-4 工期展延申請總表",downloadTime:new Date().toLocaleString("zh-TW"),fileSize:Se(o.size)};N.value.unshift(s),N.value.length>10&&(N.value=N.value.slice(0,10)),B("下載成功！",`${u} 已開始下載`,"success")}catch(a){console.error("下載失敗:",a),Q(a)}finally{n&&clearInterval(n),v.value=!1,I.value=0}},B=(n,t,a="success")=>{},ue=async n=>{var t;try{v.value=!0;const a={constructionId:((t=i.currentProject)==null?void 0:t.id)||"",title:n.fileName.replace(".docx","").replace(".pdf",""),...x.value},o=await de.downloadReport(a);re(o,n.fileName),B("重新下載成功",`${n.fileName} 已開始下載`,"success")}catch(a){Q(a)}finally{v.value=!1}},me=n=>{M.value=n,O.value=!0},se=()=>{O.value=!1,M.value=""},pe=async()=>{try{J.value=!0;const n=H.find(t=>t.id===M.value);if(!(n&&n.isTable)){if(n&&n.fields){const a=n.fields.filter(o=>o.required).filter(o=>!x.value[o.key]);if(a.length>0){B("驗證失敗",`請填寫必填欄位：${a.map(o=>o.label).join("、")}`,"error");return}}}n&&n.isTable?await xe():B("保存成功","參數已成功保存","success"),se()}catch(n){Q(n)}finally{J.value=!1}},A=()=>H.find(n=>n.id===M.value),ne=n=>{if(!n)return new Date().toISOString();if(typeof n=="string"){if(n.match(/^\d{4}-\d{2}-\d{2}$/))return`${n}T00:00:00`;if(n.includes("T"))return new Date(n).toISOString()}return new Date(n).toISOString()},fe=n=>{if(!n)return"";const t=new Date(n),a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),u=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),_=String(t.getMinutes()).padStart(2,"0");return`${a}-${o}-${u}T${s}:${_}`},le=n=>{if(!n)return"";const t=new Date(n),a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),u=String(t.getDate()).padStart(2,"0");return`${a}-${o}-${u}`},ve=(n,t)=>t?n.verifyNumber!==t.verifyNumber||n.extendContent!==t.extendContent||n.completionDateAfterExtension!==t.completionDateAfterExtension||n.extendDay!==t.extendDay:!0,xe=async()=>{var u;const n=((u=i.currentProject)==null?void 0:u.id)||"";if(!n)return;let t=0,a=0,o=0;for(const s of h.value)try{if(!s.extensionId||s.extensionId.startsWith("ext_")){const U={constructionId:n,verifyNumber:s.verifyNumber||"",extendReason:s.extendReason||"",extendContent:s.extendContent,extendDate:ne(s.completionDateAfterExtension||s.extendDate||new Date),extendDay:s.extendDay},$=await Ae(U);$.data&&$.data.extensionId&&(s.extensionId=$.data.extensionId),a++,t++}else{const U=Y.value.find(E=>E.extensionId===s.extensionId);if(ve(s,U)){const E={extensionId:s.extensionId,verifyNumber:s.verifyNumber||"",extendContent:s.extendContent,extendDate:ne(s.completionDateAfterExtension||s.extendDate||new Date),extendDay:s.extendDay};await Ce(E),o++,t++}}}catch(_){console.error("❌ 保存展延記錄失敗:",_)}},D=n=>{const t=H.find(a=>a.id===n);if(!t)return{completed:0,total:0,percentage:0};if(t.isTable&&n==="extension-history"){const a=h.value.length,o=h.value.filter(u=>{const s=u.extendContent&&u.extendDay>0,_=u.isApproved?u.verifyNumber:!0;return s&&_}).length;return{completed:o,total:a,percentage:a>0?Math.round(o/a*100):0}}if(t.fields){const a=t.fields.filter(u=>u.required),o=a.filter(u=>x.value[u.key]);return{completed:o.length,total:a.length,percentage:a.length>0?Math.round(o.length/a.length*100):0}}return{completed:0,total:0,percentage:0}},_e=()=>{var o;const n=((o=i.currentProject)==null?void 0:o.id)||"",a={extensionId:`ext_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,constructionId:n,verifyNumber:"",extendReason:"",extendContent:"",extendDate:new Date().toISOString(),extendDay:0,approvalDocumentNumber:"",completionDateAfterExtension:"",isApproved:!1};h.value.push(a)},z=(n,t,a)=>{const o=h.value.find(u=>u.extensionId===n);o&&(o[t]=a)},ae=async()=>{var n;try{R.value=!0;const t=((n=i.currentProject)==null?void 0:n.id)||"";if(!t){console.warn("⚠️ 沒有 constructionId，跳過載入展延記錄"),h.value=[];return}const a=await Ie({constructionId:t});a.success&&a.data?(h.value=(a.data||[]).map(o=>({...o,extendDate:o.extendDate?fe(o.extendDate):"",completionDateAfterExtension:o.completionDateAfterExtension?le(o.completionDateAfterExtension):o.extendDate?le(o.extendDate):"",verifyNumber:o.verifyNumber||""})),Y.value=JSON.parse(JSON.stringify(h.value))):(console.warn("展延列表回應格式異常:",a),h.value=[],Y.value=[])}catch(t){console.error("載入展延列表失敗:",t),h.value=[]}finally{R.value=!1}};return be(()=>i.currentProject,n=>{n&&n.id&&ae()},{immediate:!0}),ge(()=>{i.currentProject&&i.currentProject.id&&ae()}),(n,t)=>{var o,u;const a=we("PageHeader");return r(),d(j,null,[e("div",Ne,[e("div",$e,[e("div",Ue,[p(a,{title:`${g.code} - ${g.name}`,icon:"fa fa-file-alt",breadcrumbs:[{text:"表單生成與管理",href:"javascript:;"},{text:"A類表單",href:"javascript:;"},{text:`${g.code} ${g.name}`,active:!0}]},null,8,["title","breadcrumbs"]),e("div",Ee,[e("div",Te,[p(V,{class:"h-100"},{default:f(()=>[p(W,null,{default:f(()=>t[4]||(t[4]=[e("div",{class:"d-flex align-items-center"},[e("i",{class:"fa fa-info-circle me-2"}),e("h5",{class:"mb-0"},"表單資訊")],-1)])),_:1,__:[4]}),p(T,{class:"d-flex flex-column h-100"},{default:f(()=>[e("div",Ve,[e("div",je,[e("span",Pe,c(g.code),1),e("span",Fe,c(g.category),1)]),e("div",null,[e("h6",Me,c(g.name),1),e("p",ze,c(g.description),1)]),e("div",null,[e("div",qe,[e("div",Oe,[e("div",Re,[t[5]||(t[5]=e("div",{class:"text-muted small"},"版本",-1)),e("div",He,c(g.version),1)])]),e("div",Be,[e("div",We,[t[6]||(t[6]=e("div",{class:"text-muted small"},"更新日期",-1)),e("div",Le,c(g.lastUpdate),1)])])])])])]),_:1})]),_:1})]),e("div",Je,[p(V,null,{default:f(()=>[p(W,null,{default:f(()=>t[7]||(t[7]=[e("div",{class:"d-flex align-items-center"},[e("i",{class:"fa fa-edit me-2"}),e("h5",{class:"mb-0"},"表單參數填寫")],-1)])),_:1,__:[7]}),p(T,null,{default:f(()=>[t[10]||(t[10]=e("p",{class:"text-muted mb-4"},"請填寫以下參數以生成完整的工期展延申請總表。點擊各區塊可進行參數設定。",-1)),e("div",Ye,[(r(),d(j,null,q(H,s=>e("div",{key:s.id,class:"col-lg-6 mb-3"},[p(V,{class:"h-100 cursor-pointer param-section-card",onClick:_=>me(s.id)},{default:f(()=>[p(T,{class:"p-4"},{default:f(()=>[e("div",Ke,[e("div",Ge,[e("i",{class:P(s.icon)},null,2)]),e("div",Qe,[e("h6",Xe,c(s.title),1),e("p",Ze,c(s.description),1)])]),e("div",et,[e("div",tt,[t[8]||(t[8]=e("span",{class:"small text-muted"},"完成度",-1)),e("span",st,c(D(s.id).percentage)+"%",1)]),e("div",nt,[e("div",{class:P(["progress-bar",{"bg-success":D(s.id).percentage===100,"bg-warning":D(s.id).percentage>0&&D(s.id).percentage<100,"bg-secondary":D(s.id).percentage===0}]),style:ie({width:D(s.id).percentage+"%"})},null,6)]),e("div",lt,c(D(s.id).completed)+" / "+c(D(s.id).total)+" 必填項目 ",1)]),e("div",at,[s.isTable&&s.id==="extension-history"?(r(),d("div",ot,[e("div",it,[e("span",dt,"展延記錄："+c(h.value.length)+" 筆",1)]),e("div",rt,[e("span",ct,"已完成："+c(D(s.id).completed)+" 筆",1)]),e("div",ut,[e("span",mt,"記錄總數："+c(h.value.length)+" 筆",1)])])):s.fields&&s.fields.length>0?(r(),d("div",pt,[(r(!0),d(j,null,q(s.fields.slice(0,3),_=>(r(),d("div",{key:_.key,class:"d-flex align-items-center mb-1"},[e("i",{class:P(["fa me-2 small",x.value[_.key]?"fa-check-circle text-success":"fa-circle text-muted"])},null,2),e("span",{class:P(["small",x.value[_.key]?"text-dark":"text-muted"])},c(_.label),3)]))),128)),s.fields.length>3?(r(),d("div",ft," ... 還有 "+c(s.fields.length-3)+" 個欄位 ",1)):C("",!0)])):C("",!0)]),t[9]||(t[9]=e("div",{class:"text-center mt-3"},[e("button",{class:"btn btn-outline-theme btn-sm"},[e("i",{class:"fa fa-edit me-1"}),L(" 填寫參數 ")])],-1))]),_:2,__:[9]},1024)]),_:2},1032,["onClick"])])),64))])]),_:1,__:[10]})]),_:1})])]),e("div",vt,[e("div",xt,[p(V,null,{default:f(()=>[p(W,null,{default:f(()=>t[11]||(t[11]=[e("div",{class:"d-flex align-items-center"},[e("i",{class:"fa fa-cog me-2"}),e("h5",{class:"mb-0"},"下載設定")],-1)])),_:1,__:[11]}),p(T,null,{default:f(()=>[e("div",_t,[e("div",ht,[e("div",yt,[t[12]||(t[12]=e("label",{class:"form-label"},"自訂檔案名稱",-1)),b(e("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=s=>F.value=s),placeholder:"留空則使用預設名稱"},null,512),[[k,F.value]]),e("div",bt," 預設名稱："+c(K.value),1)])]),e("div",gt,[e("div",wt,[t[15]||(t[15]=e("label",{class:"form-label"},"附加選項",-1)),e("div",kt,[b(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>Z.value=s),id:"includeWatermark"},null,512),[[G,Z.value]]),t[13]||(t[13]=e("label",{class:"form-check-label small",for:"includeWatermark"}," 包含浮水印 ",-1))]),e("div",Dt,[b(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=s=>ee.value=s),id:"includeSignature"},null,512),[[G,ee.value]]),t[14]||(t[14]=e("label",{class:"form-check-label small",for:"includeSignature"}," 包含簽名欄位 ",-1))])])])]),e("div",St,[t[16]||(t[16]=e("div",{class:"text-muted"},[e("i",{class:"fa fa-info-circle me-1"}),e("span",null,"準備下載：A-4 工期展延申請總表")],-1)),e("button",{class:"btn btn-theme btn-lg",onClick:ce,disabled:!te.value},[e("i",{class:P(["fa me-2",{"fa-spin fa-spinner":v.value,"fa-download":!v.value}])},null,2),L(" "+c(v.value?"處理中...":"下載表單"),1)],8,It)]),v.value?(r(),d("div",At,[e("div",Ct,[t[17]||(t[17]=e("span",{class:"small"},"正在生成文件...",-1)),e("span",Nt,c(Math.round(I.value))+"%",1)]),e("div",$t,[e("div",{class:"progress-bar progress-bar-striped progress-bar-animated",style:ie({width:I.value+"%"})},null,4)])])):C("",!0)]),_:1})]),_:1})]),e("div",Ut,[p(V,null,{default:f(()=>[p(W,null,{default:f(()=>t[18]||(t[18]=[e("div",{class:"d-flex align-items-center"},[e("i",{class:"fa fa-history me-2"}),e("h5",{class:"mb-0"},"最近下載")],-1)])),_:1,__:[18]}),p(T,null,{default:f(()=>[N.value.length===0?(r(),d("div",Et,t[19]||(t[19]=[e("i",{class:"fa fa-download fa-2x text-muted mb-2"},null,-1),e("p",{class:"text-muted small mb-0"},"尚無下載記錄",-1)]))):(r(),d("div",Tt,[(r(!0),d(j,null,q(N.value,s=>(r(),d("div",{key:s.id,class:"mb-3"},[p(V,{class:"download-item"},{default:f(()=>[p(T,{class:"p-3"},{default:f(()=>[e("div",Vt,[e("h6",jt,c(s.template),1),e("button",{class:"btn btn-outline-theme btn-sm",onClick:_=>ue(s)},t[20]||(t[20]=[e("i",{class:"fa fa-download"},null,-1)]),8,Pt)]),e("p",Ft,c(s.fileName),1),e("div",Mt,[e("small",zt,c(s.downloadTime),1),e("small",qt,c(s.fileSize),1)])]),_:2},1024)]),_:2},1024)]))),128))]))]),_:1})]),_:1})])])])])]),p(ke,{show:O.value,title:((o=A())==null?void 0:o.title)||"參數填寫",icon:((u=A())==null?void 0:u.icon)||"fa fa-edit",size:"xl","modal-id":"params-modal","confirm-text":"保存","cancel-text":"取消","confirm-icon":"fa fa-save","is-loading":J.value,"onUpdate:show":t[3]||(t[3]=s=>O.value=s),onConfirm:pe,onHide:se},{body:f(()=>{var s,_,U,$,E;return[A()?(r(),d("div",Ot,[e("p",Rt,c((s=A())==null?void 0:s.description),1),(_=A())!=null&&_.isTable&&M.value==="extension-history"?(r(),d("div",Ht,[e("div",{class:"d-flex justify-content-between align-items-center mb-3"},[t[22]||(t[22]=e("h6",{class:"mb-0"},"歷次展延核定情形",-1)),e("button",{class:"btn btn-outline-theme btn-sm",onClick:_e},t[21]||(t[21]=[e("i",{class:"fa fa-plus me-1"},null,-1),L(" 新增記錄 ")]))]),e("div",Bt,[e("table",Wt,[t[25]||(t[25]=e("thead",{class:"table-light"},[e("tr",null,[e("th",{style:{width:"100px"}},"是否通過"),e("th",null,"展延因素概要"),e("th",{style:{width:"120px"}},"核准文號"),e("th",{style:{width:"100px"}},"展延天數"),e("th",{style:{width:"150px"}},"展延後竣工日期")])],-1)),R.value?(r(),d("tbody",es,t[23]||(t[23]=[e("tr",null,[e("td",{colspan:"5",class:"text-center py-4"},[e("div",{class:"d-flex align-items-center justify-content-center"},[e("div",{class:"spinner-border spinner-border-sm me-2",role:"status"},[e("span",{class:"visually-hidden"},"載入中...")]),e("span",null,"載入展延記錄中...")])])],-1)]))):(r(),d("tbody",Lt,[(r(!0),d(j,null,q(h.value,(l,w)=>(r(),d("tr",{key:l.extensionId},[e("td",null,[e("div",Jt,[b(e("input",{class:"form-check-input",type:"checkbox",id:`approved-${l.extensionId}`,"onUpdate:modelValue":m=>l.isApproved=m,onChange:m=>z(l.extensionId,"isApproved",m.target.checked)},null,40,Yt),[[G,l.isApproved]]),e("label",{class:"form-check-label small ms-1",for:`approved-${l.extensionId}`}," 通過 ",8,Kt)])]),e("td",null,[b(e("textarea",{class:"form-control form-control-sm",rows:"2","onUpdate:modelValue":m=>l.extendContent=m,onInput:m=>z(l.extensionId,"extendContent",m.target.value),placeholder:"請輸入展延因素概要"},null,40,Gt),[[k,l.extendContent]])]),e("td",null,[b(e("input",{type:"text",class:P(["form-control form-control-sm",{"bg-light":!l.isApproved}]),"onUpdate:modelValue":m=>l.verifyNumber=m,onInput:m=>z(l.extensionId,"verifyNumber",m.target.value),placeholder:"核准文號",disabled:!l.isApproved},null,42,Qt),[[k,l.verifyNumber]])]),e("td",null,[b(e("input",{type:"number",class:"form-control form-control-sm","onUpdate:modelValue":m=>l.extendDay=m,onInput:m=>z(l.extensionId,"extendDay",m.target.value),placeholder:"天數"},null,40,Xt),[[k,l.extendDay]])]),e("td",null,[b(e("input",{type:"date",class:"form-control form-control-sm","onUpdate:modelValue":m=>l.completionDateAfterExtension=m,onInput:m=>z(l.extensionId,"completionDateAfterExtension",m.target.value)},null,40,Zt),[[k,l.completionDateAfterExtension]])])]))),128))])),!R.value&&h.value.length===0?(r(),d("tbody",ts,t[24]||(t[24]=[e("tr",null,[e("td",{colspan:"7",class:"text-center py-4 text-muted"},[e("i",{class:"fa fa-inbox fa-2x mb-2"}),e("div",null,"尚無展延記錄"),e("small",null,"點擊「新增記錄」開始建立展延資料")])],-1)]))):C("",!0)])])])):(U=A())!=null&&U.fields&&(($=A())==null?void 0:$.fields.length)>0?(r(),d("div",ss,[e("div",ns,[(r(!0),d(j,null,q((E=A())==null?void 0:E.fields,l=>(r(),d("div",{key:l.key,class:"col-12 mb-3"},[e("label",ls,[L(c(l.label)+" ",1),l.required?(r(),d("span",as,"*")):C("",!0)]),l.type==="text"?b((r(),d("input",{key:0,type:"text",class:"form-control","onUpdate:modelValue":w=>x.value[l.key]=w,placeholder:`請輸入${l.label}`},null,8,os)),[[k,x.value[l.key]]]):l.type==="date"?b((r(),d("input",{key:1,type:"date",class:"form-control","onUpdate:modelValue":w=>x.value[l.key]=w},null,8,is)),[[k,x.value[l.key]]]):l.type==="datetime-local"?b((r(),d("input",{key:2,type:"datetime-local",class:"form-control","onUpdate:modelValue":w=>x.value[l.key]=w},null,8,ds)),[[k,x.value[l.key]]]):l.type==="number"?b((r(),d("input",{key:3,type:"number",class:"form-control","onUpdate:modelValue":w=>x.value[l.key]=w,placeholder:`請輸入${l.label}`,step:"0.01"},null,8,rs)),[[k,x.value[l.key]]]):l.type==="textarea"?b((r(),d("textarea",{key:4,class:"form-control",rows:"3","onUpdate:modelValue":w=>x.value[l.key]=w,placeholder:`請輸入${l.label}`},null,8,cs)),[[k,x.value[l.key]]]):C("",!0)]))),128))])])):C("",!0)])):C("",!0)]}),_:1},8,["show","title","icon","is-loading"])],64)}}}),fs=De(us,[["__scopeId","data-v-b553fac9"]]);export{fs as default};
