import{d as x,u as h,r as m,o as k,f as n,g as i,h as t,n as c,k as a,p as u,F as C,G as S,i as w,H as R,I as V,j as B,t as N,v as j,J as E,_ as L}from"./index-D_u9nkte.js";const D={class:"safety-section"},F={class:"d-flex align-items-start gap-2"},G={class:"flex-grow-1"},H={class:"input-group"},I={class:"input-group-text"},M=["onUpdate:modelValue"],T=["onClick"],U={key:0,class:"text-center text-muted py-4"},A={class:"d-flex justify-content-between mt-4"},J={class:"d-flex gap-2"},$=["disabled"],q=["disabled"],z=x({__name:"SafetySection",setup(K){const f=h(),e=m([]),l=m(!1),b=()=>{e.value.push({category:"GENERAL",content:""})},v=o=>{e.value.splice(o,1)},_=async()=>{l.value=!0;try{console.log("儲存安全記錄:",e.value)}catch(o){console.error("儲存失敗:",o)}finally{l.value=!1}},y=()=>{f.push("/daily-report/inspection")},g=()=>{f.push("/daily-report/construction")};return k(()=>{console.log("載入安全記錄資料")}),(o,s)=>(i(),n("div",D,[t("div",{class:"d-flex justify-content-between align-items-center mb-4"},[s[1]||(s[1]=t("div",null,[t("h4",{class:"mb-1"},"勞工安全衛生"),t("p",{class:"text-muted mb-0"},"記錄當日安全宣導和衛生活動")],-1)),t("div",{class:"d-flex gap-2"},[t("button",{class:"btn btn-outline-primary",onClick:b},s[0]||(s[0]=[t("i",{class:"fa fa-plus me-1"},null,-1),a("新增安全記錄 ")]))])]),c(E,null,{default:u(()=>[c(C,null,{default:u(()=>s[2]||(s[2]=[t("h6",{class:"mb-0"},[t("i",{class:"fa fa-shield-alt me-2"}),a("勞工安全衛生紀錄 ")],-1)])),_:1,__:[2]}),c(S,null,{default:u(()=>[(i(!0),n(R,null,V(e.value,(d,r)=>(i(),n("div",{key:d.id||r,class:"mb-3"},[t("div",F,[t("div",G,[t("div",H,[t("span",I,N(r+1),1),B(t("textarea",{class:"form-control","onUpdate:modelValue":p=>d.content=p,rows:"3",placeholder:"請輸入安全衛生活動內容..."},null,8,M),[[j,d.content]])])]),t("button",{class:"btn btn-outline-danger",onClick:p=>v(r),title:"刪除"},s[3]||(s[3]=[t("i",{class:"fa fa-trash"},null,-1)]),8,T)])]))),128)),e.value.length===0?(i(),n("div",U,s[4]||(s[4]=[t("i",{class:"fa fa-shield-alt fa-2x mb-2"},null,-1),t("p",{class:"mb-0"},"尚未新增任何安全衛生記錄",-1)]))):w("",!0)]),_:1})]),_:1}),t("div",A,[t("button",{class:"btn btn-outline-secondary",onClick:y},s[5]||(s[5]=[t("i",{class:"fa fa-arrow-left me-1"},null,-1),a("返回檢驗頁面 ")])),t("div",J,[t("button",{class:"btn btn-primary",onClick:_,disabled:l.value},s[6]||(s[6]=[t("i",{class:"fa fa-save me-1"},null,-1),a("儲存 ")]),8,$),t("button",{class:"btn btn-success",onClick:g,disabled:l.value},s[7]||(s[7]=[a(" 下一步 "),t("i",{class:"fa fa-arrow-right ms-1"},null,-1)]),8,q)])])]))}}),P=L(z,[["__scopeId","data-v-2f98898a"]]);export{P as default};
