import{d as w,E as y,G as h,H as C,r as p,a as _,b as S,e as u,f as m,l as s,A as H,m as f,v,I as c,s as a,J as g,K as V,L as i,i as L,p as M,R as B}from"./index-DpB6-9r-.js";const N={class:"login"},U={class:"login-content"},A={key:0,class:"alert alert-danger mb-3",role:"alert"},O={class:"mb-3"},R={class:"mb-3"},T={class:"mb-3"},q={class:"form-check"},D=["disabled"],E={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},P={class:"text-center text-inverse text-opacity-50"},I=w({__name:"PageLogin",setup(F){const x=y(),o=h(),r=C(),t=p({password:"kiki",email:"kiki2e1@sample.ca"}),n=p(""),b=p(!1),k=async()=>{if(!t.value.password||!t.value.email){n.value="請填寫所有必填欄位";return}const d=await r.login(t.value);d.success?x.push("/"):n.value=d.message};return _(()=>{o.appSidebarHide=!0,o.appHeaderHide=!0,o.appContentClass="p-0"}),S(()=>{o.appSidebarHide=!1,o.appHeaderHide=!1,o.appContentClass=""}),(d,e)=>(m(),u("div",N,[s("div",U,[s("form",{onSubmit:H(k,["prevent"]),method:"POST",name:"login_form"},[e[9]||(e[9]=s("h1",{class:"text-center"},"登入",-1)),e[10]||(e[10]=s("div",{class:"text-inverse text-opacity-50 text-center mb-4"}," 為了您的安全，請驗證您的身分。 ",-1)),n.value?(m(),u("div",A,v(n.value),1)):f("",!0),s("div",O,[e[3]||(e[3]=s("label",{class:"form-label"},[a("電子郵件 "),s("span",{class:"text-danger"},"*")],-1)),c(s("input",{type:"email",class:"form-control form-control-lg bg-white bg-opacity-5","onUpdate:modelValue":e[0]||(e[0]=l=>t.value.email=l),placeholder:"請輸入電子郵件",required:""},null,512),[[g,t.value.email]])]),s("div",R,[e[4]||(e[4]=s("div",{class:"d-flex"},[s("label",{class:"form-label"},[a("密碼 "),s("span",{class:"text-danger"},"*")]),s("a",{href:"#",class:"ms-auto text-inverse text-decoration-none text-opacity-50"},"忘記密碼?")],-1)),c(s("input",{type:"password",class:"form-control form-control-lg bg-white bg-opacity-5","onUpdate:modelValue":e[1]||(e[1]=l=>t.value.password=l),placeholder:"請輸入密碼",required:""},null,512),[[g,t.value.password]])]),s("div",T,[s("div",q,[c(s("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=l=>b.value=l),id:"customCheck1"},null,512),[[V,b.value]]),e[5]||(e[5]=s("label",{class:"form-check-label",for:"customCheck1"},"記住我",-1))])]),s("button",{type:"submit",class:"btn btn-outline-theme btn-lg d-block w-100 fw-500 mb-3",disabled:i(r).isLoading},[i(r).isLoading?(m(),u("span",E)):f("",!0),a(" "+v(i(r).isLoading?"登入中...":"登入"),1)],8,D),s("div",P,[e[7]||(e[7]=a(" 還沒有帳戶嗎？ ")),L(i(B),{to:"/page/register"},{default:M(()=>e[6]||(e[6]=[a("註冊")])),_:1,__:[6]}),e[8]||(e[8]=a(". "))])],32)])]))}});export{I as default};
