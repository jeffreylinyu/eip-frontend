import{d as y,u as k,r as m,o as C,f as n,g as i,h as t,n as c,k as o,p as u,F as h,G as N,i as w,H as V,I as B,j as S,t as j,v as D,J as F,_ as H}from"./index-D_u9nkte.js";const I={class:"notes-section"},L={class:"d-flex align-items-start gap-2"},M={class:"flex-grow-1"},T={class:"input-group"},U={class:"input-group-text"},E=["onUpdate:modelValue"],G=["onClick"],J={key:0,class:"text-center text-muted py-4"},R={class:"d-flex justify-content-between mt-4"},$={class:"d-flex gap-2"},q=["disabled"],z=["disabled"],A=y({__name:"NotesSection",setup(K){const f=k(),e=m([]),a=m(!1),b=()=>{e.value.push({content:""})},v=l=>{e.value.splice(l,1)},_=async()=>{a.value=!0;try{console.log("儲存重要記事:",e.value)}catch(l){console.error("儲存失敗:",l)}finally{a.value=!1}},g=()=>{f.push("/daily-report/construction")},x=()=>{f.push("/daily-report/tomorrow")};return C(()=>{console.log("載入重要記事資料")}),(l,s)=>(i(),n("div",I,[t("div",{class:"d-flex justify-content-between align-items-center mb-4"},[s[1]||(s[1]=t("div",null,[t("h4",{class:"mb-1"},"重要記事"),t("p",{class:"text-muted mb-0"},"記錄特殊事件或異常情況")],-1)),t("div",{class:"d-flex gap-2"},[t("button",{class:"btn btn-outline-primary",onClick:b},s[0]||(s[0]=[t("i",{class:"fa fa-plus me-1"},null,-1),o("新增記事 ")]))])]),c(F,null,{default:u(()=>[c(h,null,{default:u(()=>s[2]||(s[2]=[t("h6",{class:"mb-0"},[t("i",{class:"fa fa-sticky-note me-2"}),o("重要記事 ")],-1)])),_:1,__:[2]}),c(N,null,{default:u(()=>[(i(!0),n(V,null,B(e.value,(r,d)=>(i(),n("div",{key:r.id||d,class:"mb-3"},[t("div",L,[t("div",M,[t("div",T,[t("span",U,j(d+1),1),S(t("textarea",{class:"form-control","onUpdate:modelValue":p=>r.content=p,rows:"3",placeholder:"請輸入重要記事內容..."},null,8,E),[[D,r.content]])])]),t("button",{class:"btn btn-outline-danger",onClick:p=>v(d),title:"刪除"},s[3]||(s[3]=[t("i",{class:"fa fa-trash"},null,-1)]),8,G)])]))),128)),e.value.length===0?(i(),n("div",J,s[4]||(s[4]=[t("i",{class:"fa fa-sticky-note fa-2x mb-2"},null,-1),t("p",{class:"mb-0"},"尚未新增任何重要記事",-1)]))):w("",!0)]),_:1})]),_:1}),t("div",R,[t("button",{class:"btn btn-outline-secondary",onClick:g},s[5]||(s[5]=[t("i",{class:"fa fa-arrow-left me-1"},null,-1),o("返回施工記錄頁面 ")])),t("div",$,[t("button",{class:"btn btn-primary",onClick:_,disabled:a.value},s[6]||(s[6]=[t("i",{class:"fa fa-save me-1"},null,-1),o("儲存 ")]),8,q),t("button",{class:"btn btn-success",onClick:x,disabled:a.value},s[7]||(s[7]=[o(" 下一步 "),t("i",{class:"fa fa-arrow-right ms-1"},null,-1)]),8,z)])])]))}}),P=H(A,[["__scopeId","data-v-ee5ffea0"]]);export{P as default};
